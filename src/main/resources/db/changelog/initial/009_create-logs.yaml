databaseChangeLog:
  - changeSet:
      id: 009 create transaction logs table
      author: Aisha
      changes:
        -  createTable:
             tableName: transaction_logs
             columns:
               - column:
                   name: id
                   type: long
                   autoIncrement: true
                   constraints:
                     primaryKey: true
                     nullable: false

               - column:
                   name: transaction_id
                   type: long
                   constraints:
                     nullable: false

               - column:
                   name: status_id
                   type: long
                   constraints:
                     nullable: false

               - column:
                   name: created_at
                   type:  timestamp
                   constraints:
                     nullable: false

        - addForeignKeyConstraint:
            baseTableName: transaction_logs
            baseColumnNames: transaction_id
            referencedTableName: transactions
            referencedColumnNames: id
            constraintName: fk_logs_transaction_id
            onDelete: RESTRICT
            onUpdate: CASCADE

        - addForeignKeyConstraint:
            baseTableName: transaction_logs
            baseColumnNames: status_id
            referencedTableName: transaction_statuses
            referencedColumnNames: id
            constraintName: fk_logs_status_id
            onDelete: RESTRICT
            onUpdate: CASCADE